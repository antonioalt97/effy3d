<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Portfolio | Effy's 3D Dreamscape</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.module.js" type="module"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            400: '#a78bfa',
                            500: '#8b5cf6',
                            600: '#7c3aed',
                        },
                        secondary: {
                            400: '#f472b6',
                            500: '#ec4899',
                            600: '#db2777',
                        }
                    },
                    fontFamily: {
                        sans: ['Space Grotesk', 'sans-serif'],
                    },
                    animation: {
                        'glow': 'glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        glow: {
                            'from': { 'text-shadow': '0 0 5px rgba(139, 92, 246, 0.5)' },
                            'to': { 'text-shadow': '0 0 15px rgba(139, 92, 246, 0.8)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .glow-border {
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.5);
        }
        .glow-border:hover {
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.8);
        }
        .model-viewer {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(236, 72, 153, 0.1) 100%);
            border: 2px solid rgba(139, 92, 246, 0.3);
        }
        .model-info {
            backdrop-filter: blur(10px);
            background: rgba(17, 24, 39, 0.8);
        }
        .loading-spinner {
            border: 3px solid rgba(139, 92, 246, 0.3);
            border-top: 3px solid #8b5cf6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans min-h-screen">
    <!-- Navigation -->
    <nav class="fixed w-full z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <a href="index.html">
                            <img src="https://huggingface.co/spaces/keldev/deepsite-project/resolve/main/images/logo2025_w.png" alt="Effy3D Logo" class="h-10">
                        </a>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="index.html" class="px-3 py-2 rounded-md text-sm font-medium hover:text-primary-400 transition-colors">Home</a>
                            <a href="index.html#portfolio" class="px-3 py-2 rounded-md text-sm font-medium hover:text-primary-400 transition-colors">Portfolio</a>
                            <a href="portfolio.html" class="px-3 py-2 rounded-md text-sm font-medium text-primary-400">3D Gallery</a>
                            <a href="index.html#services" class="px-3 py-2 rounded-md text-sm font-medium hover:text-primary-400 transition-colors">Services</a>
                            <a href="index.html#contact" class="px-3 py-2 rounded-md text-sm font-medium hover:text-primary-400 transition-colors">Contact</a>
                        </div>
                    </div>
                </div>
                <div class="hidden md:block">
                    <a href="index.html#contact" class="px-4 py-2 rounded-md text-sm font-medium bg-primary-600 hover:bg-primary-500 text-white transition-colors glow-border">
                        Get Started
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="pt-32 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto text-center">
        <h1 class="text-4xl md:text-6xl font-bold mb-6 animate-glow">
            Interactive <span class="bg-gradient-to-r from-primary-500 to-secondary-500 bg-clip-text text-transparent">3D Portfolio</span>
        </h1>
        <p class="text-lg text-gray-300 mb-8 max-w-2xl mx-auto">
            Explore my 3D creations in an interactive environment. Click, drag to rotate, and scroll to zoom into each model.
        </p>
        <div class="flex justify-center space-x-4 mb-8">
            <div class="flex items-center space-x-2 text-sm text-gray-400">
                <i data-feather="mouse-pointer" class="w-4 h-4"></i>
                <span>Click & Drag to Rotate</span>
            </div>
            <div class="flex items-center space-x-2 text-sm text-gray-400">
                <i data-feather="maximize-2" class="w-4 h-4"></i>
                <span>Scroll to Zoom</span>
            </div>
        </div>
    </section>

    <!-- 3D Model Gallery -->
    <section class="pb-20 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Model 1: Your Hornet Model -->
            <div class="bg-gray-800/50 rounded-2xl p-6 glow-border">
                <div class="model-viewer rounded-xl h-96 mb-6 relative overflow-hidden" id="model1">
                    <div class="loading-spinner absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" id="loading1"></div>
                    <div class="absolute top-4 right-4 bg-gray-900/80 rounded-lg px-3 py-1 text-sm">
                        <span class="text-primary-400">GLB Model</span>
                    </div>
                </div>
                <div class="model-info rounded-xl p-4">
                    <h3 class="text-xl font-bold mb-2">Hornet Model</h3>
                    <p class="text-gray-300 mb-4">Your custom 3D model loaded from the models folder. Interactive viewing with rotation and zoom controls.</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="px-3 py-1 text-xs rounded-full bg-primary-600">Custom Model</span>
                        <span class="px-3 py-1 text-xs rounded-full bg-secondary-600">GLB Format</span>
                        <span class="px-3 py-1 text-xs rounded-full bg-gray-600">Interactive</span>
                    </div>
                </div>
            </div>

            <!-- Model 2: Placeholder -->
            <div class="bg-gray-800/50 rounded-2xl p-6 glow-border">
                <div class="model-viewer rounded-xl h-96 mb-6 relative overflow-hidden" id="model2">
                    <div class="loading-spinner absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" id="loading2"></div>
                    <div class="absolute top-4 right-4 bg-gray-900/80 rounded-lg px-3 py-1 text-sm">
                        <span class="text-secondary-400">Placeholder</span>
                    </div>
                </div>
                <div class="model-info rounded-xl p-4">
                    <h3 class="text-xl font-bold mb-2">Add Your Model Here</h3>
                    <p class="text-gray-300 mb-4">Upload your GLB file to the models folder and update the code to display your second model.</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="px-3 py-1 text-xs rounded-full bg-gray-600">Placeholder</span>
                    </div>
                </div>
            </div>

            <!-- Model 3: Placeholder -->
            <div class="bg-gray-800/50 rounded-2xl p-6 glow-border">
                <div class="model-viewer rounded-xl h-96 mb-6 relative overflow-hidden" id="model3">
                    <div class="loading-spinner absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" id="loading3"></div>
                    <div class="absolute top-4 right-4 bg-gray-900/80 rounded-lg px-3 py-1 text-sm">
                        <span class="text-primary-400">Placeholder</span>
                    </div>
                </div>
                <div class="model-info rounded-xl p-4">
                    <h3 class="text-xl font-bold mb-2">Add Your Model Here</h3>
                    <p class="text-gray-300 mb-4">Upload your GLB file to the models folder and update the code to display your third model.</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="px-3 py-1 text-xs rounded-full bg-gray-600">Placeholder</span>
                    </div>
                </div>
            </div>

            <!-- Model 4: Placeholder -->
            <div class="bg-gray-800/50 rounded-2xl p-6 glow-border">
                <div class="model-viewer rounded-xl h-96 mb-6 relative overflow-hidden" id="model4">
                    <div class="loading-spinner absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" id="loading4"></div>
                    <div class="absolute top-4 right-4 bg-gray-900/80 rounded-lg px-3 py-1 text-sm">
                        <span class="text-secondary-400">Placeholder</span>
                    </div>
                </div>
                <div class="model-info rounded-xl p-4">
                    <h3 class="text-xl font-bold mb-2">Add Your Model Here</h3>
                    <p class="text-gray-300 mb-4">Upload your GLB file to the models folder and update the code to display your fourth model.</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="px-3 py-1 text-xs rounded-full bg-gray-600">Placeholder</span>
                    </div>
                </div>
            </div>

        </div>

        <!-- Upload Instructions -->
        <div class="mt-16 bg-gray-800/50 rounded-2xl p-8 glow-border">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold mb-4">How to Add More GLB Models</h2>
                <p class="text-gray-300">Your hornet.glb is already loaded in the first viewer. Add more models by following these steps:</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-lg font-bold mb-4 text-primary-400">File Structure</h3>
                    <div class="bg-gray-900/50 rounded-lg p-4 font-mono text-sm">
                        <div class="text-gray-400">project-folder/</div>
                        <div class="ml-4 text-gray-300">├── index.html</div>
                        <div class="ml-4 text-gray-300">├── portfolio.html</div>
                        <div class="ml-4 text-gray-300">└── models/</div>
                        <div class="ml-8 text-green-400">├── hornet.glb ✓ (loaded)</div>
                        <div class="ml-8 text-primary-400">├── your-model2.glb</div>
                        <div class="ml-8 text-primary-400">├── your-model3.glb</div>
                        <div class="ml-8 text-primary-400">└── your-model4.glb</div>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-bold mb-4 text-secondary-400">Update JavaScript</h3>
                    <div class="bg-gray-900/50 rounded-lg p-4 font-mono text-sm">
                        <div class="text-gray-400">// Find this line in the code:</div>
                        <div class="text-gray-300">new ModelViewer('model2', 'models/your-model2.glb');</div>
                        <div class="text-gray-300">new ModelViewer('model3', 'models/your-model3.glb');</div>
                        <div class="text-gray-300">new ModelViewer('model4', 'models/your-model4.glb');</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800/50 py-12 px-4 sm:px-6 lg:px-8">
        <div class="max-w-7xl mx-auto text-center">
            <div class="mb-8">
                <img src="https://huggingface.co/spaces/keldev/deepsite-project/resolve/main/images/logo2025_w.png" alt="Effy3D Logo" class="h-12 mx-auto mb-4">
                <p class="text-gray-300">Creating immersive 3D experiences and VTuber avatars</p>
            </div>
            <div class="flex justify-center space-x-6 mb-8">
                <a href="https://www.twitch.tv/effy3d" class="text-gray-400 hover:text-purple-400 transition-colors">
                    <i data-feather="twitch" class="w-6 h-6"></i>
                </a>
                <a href="#" class="text-gray-400 hover:text-blue-400 transition-colors">
                    <i data-feather="twitter" class="w-6 h-6"></i>
                </a>
                <a href="#" class="text-gray-400 hover:text-pink-400 transition-colors">
                    <i data-feather="instagram" class="w-6 h-6"></i>
                </a>
            </div>
            <div class="border-t border-gray-700 pt-8">
                <p class="text-gray-400">&copy; 2025 Effy3D. All rights reserved. | <a href="index.html" class="text-primary-400 hover:text-primary-300">Back to Home</a></p>
            </div>
        </div>
    </footer>

    <!-- Import Three.js modules -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // Initialize Feather icons
        feather.replace();

        // 3D Model Viewer Setup
        class ModelViewer {
            constructor(containerId, modelPath) {
                this.container = document.getElementById(containerId);
                this.loadingElement = document.getElementById('loading' + containerId.slice(-1));
                this.modelPath = modelPath;
                this.init();
            }

            init() {
                // Scene setup
                this.scene = new THREE.Scene();
                this.camera = new THREE.PerspectiveCamera(75, this.container.clientWidth / this.container.clientHeight, 0.1, 1000);
                this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                
                this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);
                this.renderer.setClearColor(0x000000, 0);
                this.renderer.shadowMap.enabled = true;
                this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;
                
                this.container.appendChild(this.renderer.domElement);

                // Lighting
                const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
                this.scene.add(ambientLight);

                const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
                directionalLight.position.set(10, 10, 5);
                directionalLight.castShadow = true;
                this.scene.add(directionalLight);

                const pointLight1 = new THREE.PointLight(0x8b5cf6, 0.5, 100);
                pointLight1.position.set(-10, 0, 10);
                this.scene.add(pointLight1);

                const pointLight2 = new THREE.PointLight(0xec4899, 0.5, 100);
                pointLight2.position.set(10, 0, -10);
                this.scene.add(pointLight2);

                // Controls
                this.controls = new OrbitControls(this.camera, this.renderer.domElement);
                this.controls.enableDamping = true;
                this.controls.dampingFactor = 0.05;
                this.controls.autoRotate = true;
                this.controls.autoRotateSpeed = 1;

                // Camera position
                this.camera.position.set(0, 0, 5);

                // Try to load GLB model, fallback to placeholder
                this.loadModel();

                // Animation loop
                this.animate();

                // Handle window resize
                window.addEventListener('resize', () => this.onWindowResize());
            }

            loadModel() {
                const loader = new GLTFLoader();
                
                loader.load(
                    this.modelPath,
                    (gltf) => {
                        // Success - GLB model loaded
                        console.log('Model loaded successfully:', this.modelPath);
                        
                        // Clear any existing objects
                        while(this.scene.children.length > 0) {
                            if (this.scene.children[0].type !== 'Light' && this.scene.children[0].type !== 'AmbientLight' && this.scene.children[0].type !== 'DirectionalLight' && this.scene.children[0].type !== 'PointLight') {
                                this.scene.remove(this.scene.children[0]);
                            } else {
                                break;
                            }
                        }
                        
                        // Add the loaded model
                        const model = gltf.scene;
                        
                        // Scale and position the model appropriately
                        const box = new THREE.Box3().setFromObject(model);
                        const size = box.getSize(new THREE.Vector3()).length();
                        const center = box.getCenter(new THREE.Vector3());
                        
                        model.position.x += (model.position.x - center.x);
                        model.position.y += (model.position.y - center.y);
                        model.position.z += (model.position.z - center.z);
                        
                        // Scale to fit in view
                        const scale = 3 / size;
                        model.scale.setScalar(scale);
                        
                        this.scene.add(model);
                        this.model = model;
                        
                        // Hide loading spinner
                        this.loadingElement.style.display = 'none';
                    },
                    (progress) => {
                        // Loading progress
                        console.log('Loading progress:', (progress.loaded / progress.total * 100) + '%');
                    },
                    (error) => {
                        // Error loading GLB - show placeholder
                        console.log('Error loading GLB model, showing placeholder:', error);
                        this.loadPlaceholderModel();
                    }
                );
            }

            loadPlaceholderModel() {
                // Create different placeholder models for each viewer
                const viewerId = this.container.id;
                let geometry, material;

                switch(viewerId) {
                    case 'model1':
                        // Hornet placeholder - humanoid shape
                        geometry = new THREE.CapsuleGeometry(0.5, 1.5, 4, 8);
                        material = new THREE.MeshPhongMaterial({ 
                            color: 0x8b5cf6,
                            shininess: 100,
                            transparent: true,
                            opacity: 0.8
                        });
                        break;
                    case 'model2':
                        // Placeholder 2
                        geometry = new THREE.CylinderGeometry(0.1, 0.1, 3, 8);
                        material = new THREE.MeshPhongMaterial({ 
                            color: 0xec4899,
                            shininess: 100,
                            emissive: 0x221122
                        });
                        break;
                    case 'model3':
                        // Placeholder 3
                        geometry = new THREE.BoxGeometry(2, 1.5, 1);
                        material = new THREE.MeshPhongMaterial({ 
                            color: 0x4ade80,
                            shininess: 50,
                            emissive: 0x002200
                        });
                        break;
                    case 'model4':
                        // Placeholder 4
                        geometry = new THREE.DodecahedronGeometry(1, 1);
                        material = new THREE.MeshPhongMaterial({ 
                            color: 0xf59e0b,
                            shininess: 80,
                            transparent: true,
                            opacity: 0.9
                        });
                        break;
                    default:
                        geometry = new THREE.BoxGeometry(1, 1, 1);
                        material = new THREE.MeshPhongMaterial({ color: 0x8b5cf6 });
                }

                const mesh = new THREE.Mesh(geometry, material);
                mesh.castShadow = true;
                mesh.receiveShadow = true;
                this.scene.add(mesh);

                // Hide loading spinner
                this.loadingElement.style.display = 'none';

                // Add some floating animation
                this.mesh = mesh;
                this.floatOffset = Math.random() * Math.PI * 2;
            }

            animate() {
                requestAnimationFrame(() => this.animate());

                // Update controls
                this.controls.update();

                // Add floating animation to placeholder models
                if (this.mesh) {
                    this.mesh.position.y = Math.sin(Date.now() * 0.001 + this.floatOffset) * 0.2;
                    this.mesh.rotation.y += 0.005;
                }

                // Render
                this.renderer.render(this.scene, this.camera);
            }

            onWindowResize() {
                this.camera.aspect = this.container.clientWidth / this.container.clientHeight;
                this.camera.updateProjectionMatrix();
                this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);
            }
        }

        // Initialize model viewers when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Create model viewers for each container
            new ModelViewer('model1', 'models/hornet.glb');  // Your actual model
            new ModelViewer('model2', 'models/placeholder2.glb');  // Add your second model here
            new ModelViewer('model3', 'models/placeholder3.glb');  // Add your third model here
            new ModelViewer('model4', 'models/placeholder4.glb');  // Add your fourth model here
        });
    </script>
</body>
</html>
